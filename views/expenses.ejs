<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     
</head>
<body style="background-color: #0E465A;">

    <div class="container"  style="text-align: center;">
 <h2 style="  color:#EDA02F;
    font-size: 3.5rem;
    padding: 2rem; ;">Expenses</h2>


<table border="1" cellspacing="0" cellpadding="8" style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
  <thead>
    <tr style="background-color:  #CD3500; color: white;">
      <th>S.No</th>
      <th>Title</th>
      <th>Amount</th>
      <th>Mode</th>
      <th>Date & Time</th>
    </tr>
  </thead>
  <tbody>
    <% expenses.forEach(function(e, index) { 
         const isOdd = index % 2 !== 0;
         const rowBg = isOdd ? '#0E465A' : 'white';
         const textColor = isOdd ? 'white' : 'black';
    %>
      <tr style='background-color: <%= rowBg %>; color: <%= textColor %>;'>
        <td><%= index + 1 %></td>
        <td><%= e.title %></td>
        <td>â‚¹<%= e.amount %></td>
        <td><%= e.mode %></td>
        <td><%= new Date(e.createdAt).toLocaleString() %></td>
      </tr>
    <% }); %>
  </tbody>
</table>

<!-- Styled card form for adding new expenses -->
<div style="max-width: 500px; margin: 0 auto; padding: 20px; border-radius: 15px; background-color: #f0f8ff; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
  <h3 style="text-align: center; color: #0E465A;">Add Expense</h3>
  <form method="POST" action="/expenses/add" onsubmit="return validateForm()" style="display: flex; flex-direction: column; gap: 10px;">
    <input type="text" name="title" placeholder="Reason" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;" />
    <input type="number" name="amount" placeholder="Amount" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;" />
    <select name="mode" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
      <option value="">Select Mode</option>
      <option value="cash">Cash</option>
      <option value="online">Online</option>
    </select>
    <input type="password" name="adminPin" placeholder="Admin PIN" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;" />
    <button type="submit" style="padding: 10px; background-color: #0E465A; color: white; border: none; border-radius: 8px;">Add Expense</button>
  </form>
</div>

    </div>
  

<script>
  function validateForm() {
    const title = document.querySelector('[name="title"]').value.trim();
    const amount = document.querySelector('[name="amount"]').value;

    if (!title || !amount || isNaN(amount)) {
      alert("Please enter a valid reason and amount.");
      return false;
    }
    return true;
  }
</script>

    
</body>
</html>
